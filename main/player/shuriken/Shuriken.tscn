[gd_scene load_steps=12 format=2]

[ext_resource path="res://main/player/shuriken/shuriken_model_b.obj" type="ArrayMesh" id=1]
[ext_resource path="res://main/player/shuriken/shuriken.gd" type="Script" id=2]
[ext_resource path="res://main/shader/flat_material.tres" type="Material" id=3]
[ext_resource path="res://main/player/sound_spawner.gd" type="Script" id=4]
[ext_resource path="res://main/sound_effects/woosh3.wav" type="AudioStream" id=5]
[ext_resource path="res://main/sound_effects/woosh2.wav" type="AudioStream" id=6]
[ext_resource path="res://main/sound_effects/woosh1.wav" type="AudioStream" id=7]

[sub_resource type="SphereShape" id=1]
radius = 0.5

[sub_resource type="SphereShape" id=2]
radius = 0.8

[sub_resource type="CubeMesh" id=3]
material = ExtResource( 3 )

[sub_resource type="Curve" id=4]
_data = [ Vector2( 0.147619, 0.971398 ), 0.0, 0.0, 0, 0, Vector2( 1, 0.0137712 ), -4.08663, 0.0, 0, 0 ]

[node name="Shuriken" type="KinematicBody"]
script = ExtResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="."]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 0.85, 0, 0, 0, 0.85, 0, 0, 0, 0.85, 0, 0, 0 )
mesh = ExtResource( 1 )
material/0 = ExtResource( 3 )

[node name="Hurtbox" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Hurtbox"]
shape = SubResource( 2 )

[node name="TrailParticles" type="CPUParticles" parent="."]
amount = 16
lifetime = 0.3
randomness = 0.16
local_coords = false
mesh = SubResource( 3 )
emission_shape = 1
emission_sphere_radius = 0.2
gravity = Vector3( 0, -1, 0 )
angle = 128.0
angle_random = 1.0
scale_amount = 0.02
scale_amount_random = 0.05
scale_amount_curve = SubResource( 4 )

[node name="WooshSoundSpawner" type="Spatial" parent="."]
script = ExtResource( 4 )
sounds = [ ExtResource( 7 ), ExtResource( 6 ), ExtResource( 5 ) ]
volume = -8.0
rand_pitch_range = 0.3
